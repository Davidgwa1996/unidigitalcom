{"ast":null,"code":"const API_BASE_URL = process.env.REACT_APP_API_URL || 'https://api.unidigital.com/v1';\n\n// Helper function for API calls\nconst fetchAPI = async (endpoint, options = {}) => {\n  const token = localStorage.getItem('auth_token');\n  const defaultOptions = {\n    headers: {\n      'Content-Type': 'application/json',\n      'Accept': 'application/json',\n      ...(token && {\n        'Authorization': `Bearer ${token}`\n      }),\n      ...options.headers\n    }\n  };\n  try {\n    const response = await fetch(`${API_BASE_URL}${endpoint}`, {\n      ...defaultOptions,\n      ...options\n    });\n    if (!response.ok) {\n      throw new Error(`API Error: ${response.status}`);\n    }\n    return await response.json();\n  } catch (error) {\n    console.error('API Request Failed:', error);\n    throw error;\n  }\n};\nexport const api = {\n  // Products\n  getProducts: async (params = {}) => {\n    const queryString = new URLSearchParams(params).toString();\n    return fetchAPI(`/products?${queryString}`);\n  },\n  getProduct: async id => {\n    return fetchAPI(`/products/${id}`);\n  },\n  // Categories\n  getCategories: async () => {\n    return fetchAPI('/categories');\n  },\n  // Market Data\n  getMarketData: async (country = 'GB') => {\n    return fetchAPI(`/market/trends?country=${country}`);\n  },\n  // AI Pricing (Integrated)\n  getAiPricing: async productId => {\n    return fetchAPI(`/ai/pricing/${productId}`);\n  },\n  // Search Suggestions\n  getSearchSuggestions: async query => {\n    return fetchAPI(`/search/suggestions?q=${encodeURIComponent(query)}`);\n  },\n  // User & Auth\n  login: async (email, password) => {\n    return fetchAPI('/auth/login', {\n      method: 'POST',\n      body: JSON.stringify({\n        email,\n        password\n      })\n    });\n  },\n  register: async userData => {\n    return fetchAPI('/auth/register', {\n      method: 'POST',\n      body: JSON.stringify(userData)\n    });\n  },\n  // Cart\n  syncCart: async cartItems => {\n    return fetchAPI('/cart/sync', {\n      method: 'POST',\n      body: JSON.stringify({\n        items: cartItems\n      })\n    });\n  },\n  // Checkout\n  createOrder: async orderData => {\n    return fetchAPI('/orders', {\n      method: 'POST',\n      body: JSON.stringify(orderData)\n    });\n  },\n  // Shipping\n  calculateShipping: async (address, items) => {\n    return fetchAPI('/shipping/calculate', {\n      method: 'POST',\n      body: JSON.stringify({\n        address,\n        items\n      })\n    });\n  },\n  // Payment\n  createPaymentIntent: async paymentData => {\n    return fetchAPI('/payments/intent', {\n      method: 'POST',\n      body: JSON.stringify(paymentData)\n    });\n  },\n  // Analytics\n  getAnalytics: async (timeframe = '7d') => {\n    return fetchAPI(`/analytics?timeframe=${timeframe}`);\n  }\n};","map":{"version":3,"names":["API_BASE_URL","process","env","REACT_APP_API_URL","fetchAPI","endpoint","options","token","localStorage","getItem","defaultOptions","headers","response","fetch","ok","Error","status","json","error","console","api","getProducts","params","queryString","URLSearchParams","toString","getProduct","id","getCategories","getMarketData","country","getAiPricing","productId","getSearchSuggestions","query","encodeURIComponent","login","email","password","method","body","JSON","stringify","register","userData","syncCart","cartItems","items","createOrder","orderData","calculateShipping","address","createPaymentIntent","paymentData","getAnalytics","timeframe"],"sources":["C:/Users/njaud/unidigitalcom/frontend/src/services/api.js"],"sourcesContent":["const API_BASE_URL = process.env.REACT_APP_API_URL || 'https://api.unidigital.com/v1';\r\n\r\n// Helper function for API calls\r\nconst fetchAPI = async (endpoint, options = {}) => {\r\n  const token = localStorage.getItem('auth_token');\r\n  \r\n  const defaultOptions = {\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n      'Accept': 'application/json',\r\n      ...(token && { 'Authorization': `Bearer ${token}` }),\r\n      ...options.headers\r\n    }\r\n  };\r\n\r\n  try {\r\n    const response = await fetch(`${API_BASE_URL}${endpoint}`, {\r\n      ...defaultOptions,\r\n      ...options\r\n    });\r\n\r\n    if (!response.ok) {\r\n      throw new Error(`API Error: ${response.status}`);\r\n    }\r\n\r\n    return await response.json();\r\n  } catch (error) {\r\n    console.error('API Request Failed:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const api = {\r\n  // Products\r\n  getProducts: async (params = {}) => {\r\n    const queryString = new URLSearchParams(params).toString();\r\n    return fetchAPI(`/products?${queryString}`);\r\n  },\r\n\r\n  getProduct: async (id) => {\r\n    return fetchAPI(`/products/${id}`);\r\n  },\r\n\r\n  // Categories\r\n  getCategories: async () => {\r\n    return fetchAPI('/categories');\r\n  },\r\n\r\n  // Market Data\r\n  getMarketData: async (country = 'GB') => {\r\n    return fetchAPI(`/market/trends?country=${country}`);\r\n  },\r\n\r\n  // AI Pricing (Integrated)\r\n  getAiPricing: async (productId) => {\r\n    return fetchAPI(`/ai/pricing/${productId}`);\r\n  },\r\n\r\n  // Search Suggestions\r\n  getSearchSuggestions: async (query) => {\r\n    return fetchAPI(`/search/suggestions?q=${encodeURIComponent(query)}`);\r\n  },\r\n\r\n  // User & Auth\r\n  login: async (email, password) => {\r\n    return fetchAPI('/auth/login', {\r\n      method: 'POST',\r\n      body: JSON.stringify({ email, password })\r\n    });\r\n  },\r\n\r\n  register: async (userData) => {\r\n    return fetchAPI('/auth/register', {\r\n      method: 'POST',\r\n      body: JSON.stringify(userData)\r\n    });\r\n  },\r\n\r\n  // Cart\r\n  syncCart: async (cartItems) => {\r\n    return fetchAPI('/cart/sync', {\r\n      method: 'POST',\r\n      body: JSON.stringify({ items: cartItems })\r\n    });\r\n  },\r\n\r\n  // Checkout\r\n  createOrder: async (orderData) => {\r\n    return fetchAPI('/orders', {\r\n      method: 'POST',\r\n      body: JSON.stringify(orderData)\r\n    });\r\n  },\r\n\r\n  // Shipping\r\n  calculateShipping: async (address, items) => {\r\n    return fetchAPI('/shipping/calculate', {\r\n      method: 'POST',\r\n      body: JSON.stringify({ address, items })\r\n    });\r\n  },\r\n\r\n  // Payment\r\n  createPaymentIntent: async (paymentData) => {\r\n    return fetchAPI('/payments/intent', {\r\n      method: 'POST',\r\n      body: JSON.stringify(paymentData)\r\n    });\r\n  },\r\n\r\n  // Analytics\r\n  getAnalytics: async (timeframe = '7d') => {\r\n    return fetchAPI(`/analytics?timeframe=${timeframe}`);\r\n  }\r\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}